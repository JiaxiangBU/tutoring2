---
output: github_document
bibliography: refs/add.bib
---


```{r}
library(tidyverse)

df_1 <- data.frame(A = c('asd', 'adf', 'afg', 'agh', 'ahj'), stringsAsFactors = FALSE)
df_2 <- data.frame(B = c('as', 'af', 'aj'), stringsAsFactors = FALSE)
```

这里 for 循环我觉得复杂了，可以向量化操作。

```{r}
left_join(df_1 %>% mutate(on = 1),
          df_2 %>% mutate(on = 1), by = 'on') %>% 
    select(-on) %>% 
    group_by(A) %>% 
    mutate(match = str_detect(A,B),
           text = ifelse(match==1,B,"")) %>% 
    summarise(
        match = sum(match),
        text = str_flatten(text,"")
    )
```
